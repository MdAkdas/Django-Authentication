
def login_view(request):
    print("in sign in view")
    if request.method == "POST":
        form = AuthenticationForm(request, data=request.POST)
        if form.is_valid():
            username = form.cleaned_data.get('username')
            password = form.cleaned_data.get('password')
            user = authenticate(username=username, password=password)
            if user is not None:
                login(request, user)
                messages.info(request, f"You are now logged in as {username}.")
                return render(request,'accounts/index.html')
            else:
                    messages.error(request,"Invalid username or password.")
        else:
            messages.error(request,"Invalid username or password.")
        form = AuthenticationForm()
    return redirect('home')



<div align='center' style="margin-top: 50px">
    <h3><a href="/">Home</a></h3

    <form method="post">
        {% csrf_token %}
        {{form.as_p}}
        <input type="submit" value="Login">
        <br>
        <p>Wants to create a new account?</p>
        <button onclick="location.href = '/accounts/sign_up'">Sign-Up</button>
    
    </form>


</div>
